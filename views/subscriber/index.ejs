


<h5 class="text-xl text-center font-semibold mt-5">
    <i class="fa-solid fa-location-dot"></i>
    <%= place.nameEn %>
</h5>

<div class="mt-5">
    <h4 class="text-2xl text-center font-bold">Queues - <%= queues.length %></h4>
</div>







    <div class="queues-container my-10">


        <% queues.forEach(queue => { %>
            <div class="queue-item flex justify-between items-center bg-base-200 p-4 mb-2">
                <p class="text-lg font-semibold">
                    <i class="fa-solid fa-clock"></i>
                    <span class="ml-2">Queue</span>
                    <span class="text-primary font-bold">#<%= queue.queue %></span>
                </p>
                <div>
                    <a href="/subscriber/change/queue/to/active/<%= queue._id %>" class="btn btn-primary btn-sm">Active</a>
                    <button 
                        class="btn btn-primary btn-sm speak-btn" 
                        data-queue="<%= queue.queue %>">
                        <i class="fa-solid fa-microphone"></i>
                    </button>
                </div>
            </div>
        <% }) %>
        

    </div>



    <script>
        document.querySelectorAll('.speak-btn').forEach(button => {
            button.addEventListener('click', () => {
                const queueNumber = button.getAttribute('data-queue');
    
                // الرسالة بالإنجليزية
                const msgEnglish = new SpeechSynthesisUtterance(`Queue number ${queueNumber}, please proceed.`);
                msgEnglish.lang = 'en-US';
    
                // الرسالة بالعربية
                const msgArabic = new SpeechSynthesisUtterance(`الرقم ${queueNumber}، تفضل`);
                msgArabic.lang = 'ar-SA';
    
                // نطق الإنجليزية أولاً
                window.speechSynthesis.speak(msgEnglish);
    
                // ننتظر انتهاء الصوت الإنجليزي، ثم 5 ثواني، ثم نطق العربي
                msgEnglish.onend = () => {
                    setTimeout(() => {
                        window.speechSynthesis.speak(msgArabic);
                    }, 5000); // 5000 ميلي ثانية = 5 ثواني
                };
            });
        });
    </script>
    
    