<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('../inc/style.ejs') %>
    <title>Add Place</title>
    <!-- Favicon -->

</head>

<body>
  <div class="layer"></div>
  <!-- ! Body -->
  <a class="skip-link sr-only" href="#skip-target">Skip to content</a>
  <div class="page-flex">
    <%- include('../inc/sidebar.ejs') %>
      <div class="main-wrapper">
        <!-- ! Main nav -->
        <%- include('../inc/header.ejs') %>
          <!-- ! Main -->
          <main class="main users chart-page" id="skip-target">
            <div class="container">
              

              <div class="my-5 bg-white py-3">
                <h5 class="mx-3 my-3">Add New Place</h5>
                <form action="/places/add/new/place" method="post" enctype="multipart/form-data">
                  <div class="row px-4">


                    <div class="mb-3 col-12 col-md-6">
                      <label class="d-block text-dark text-sm">Name ( Ar )</label>
                      <input type="text" name="nameAr" required class="form-control  w-100" />
                    </div>




                    <div class="mb-3 col-12 col-md-6">
                      <label class="block text-black text-sm">Name ( En )</label>
                      <input type="text" name="nameEn" required class="form-control w-full" />
                    </div>

                    <div class="mb-3 col-12 col-md-6">
                      <label class="block text-black text-sm">Address ( En )</label>
                      <input type="text" name="addressEn" required class="form-control w-full" />
                    </div>

                    <div class="mb-3 col-12 col-md-6">
                      <label class="block text-black text-sm">Address ( Ar )</label>
                      <input type="text" name="addressAr" required class="form-control w-full" />
                    </div>

                    <div class="mb-3 col-12 col-md-6">
                      <label class="block text-black text-sm"> Description </label>
                      <input type="text" name="description" required class="form-control w-full" />
                    </div>

                    <div class="mb-3 col-12 col-md-6">
                      <label class="block text-black text-sm">Latitude</label>
                      <input type="text" name="lat" required class="form-control w-full" />
                    </div>

                    <div class="mb-3 col-12 col-md-6">
                      <label class="block text-black text-sm">Longitude</label>
                      <input type="text" name="lng" required class="form-control w-full" />
                    </div>


                 

                    <div class="mb-3 col-12 col-md-6">
                      <label class="image-preview " for="image">

                        <div class="mb-2">
                          <img src="" id="preview" alt="">
                        </div>
                        <input type="file" id="image" name="image" required
                          class="file-input file-input-primary w-full hidden" />

                        <div>
                          <i class="fa-solid fa-file-image fs-3"></i>
                        </div>
                      </label>

                    </div>


                    <div class="col-12">
                      <button type="submit" class="btn btn-primary ">Save</button>
                    </div>

                    
                  </div>
                </form>
              </div>
              


             
              <div class="my-5 bg-white py-3">
                <h6 class="my-3 mx-3">All Places</h6>
                <div class="table-responsive bg-white">
                    <table id="myTable" class="table table-striped">
                        <thead>
                            <tr>

                                <th class="text-black">Name (En)</th>
                                <th class="text-black">Name (Ar)</th>
                                <th class="text-black">Address (En)</th>
                                <th class="text-black">Address (Ar)</th>
                                <th class="text-black">Description</th>
                                <th class="text-black">location</th>
                                <th class="text-black">Image</th>
                                <th class="text-black">Actions</th>

                            </tr>
                        </thead>
                        <tbody>
                            <% places.forEach(place=> { %>
                                <tr>
                                    <td class="text-xs font-light">
                                        <%= place.nameEn %> 
                                    </td>

                                    <td class="text-xs font-light">
                                        <%= place.nameAr %>
                                    </td>

                                    <td class="text-xs font-light"> 
                                        <%= place.addressEn %>
                                    </td>


                                    <td class="text-xs font-light">
                                        <%= place.addressAr %>
                                    </td>


                                    <td class="text-xs font-light">
                                        <%= place.description %>
                                    </td>

                                    <td>
                                        <%= place.location.lat %> - <%= place.location.lng %>
                                    </td>

                                    <td>
                                        <img width="50px" src="/uploads/<%= place.image  %>"
                                            alt="">
                                    </td>

                                    <td class="d-flex">

                                        <a href="/places/edit/place/<%= place._id %> " 
                                          class="btn btn-success m-1">
                                            <i class="fa-solid fa-pen text-white"></i>
                                        </a>
                                        <a 
                                           onclick="return confirm('Are you sure you want to delete this item?');"
                                           href="/places/delete/place/<%= place._id %> " 
                                           class="btn btn-danger m-1">
                                            <i class="fa-solid fa-trash text-white"></i>
                                        </a>
                                       
                                    </td>

                                    

                                </tr>
                                <% }) %>










                        </tbody>

                    </table>
                </div>
            </div>



            </div>
          </main>
          <!-- ! Footer -->

      </div>
  </div>
  <!-- Chart library -->
  <%- include('../inc/script.ejs') %>
</body>

</html>